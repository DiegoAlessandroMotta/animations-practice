---
import Layout from "../../layouts/Layout.astro";

const images = [1, 2, 3, 5, 4, 6, 7, 9, 8];
---

<Layout title="Gallery">
  <main>
    <section class="gallery">
      {
        images.map((code) => (
          <picture class="image__container">
            <img src={`/img/${code}.jpg`} alt={`persona ${code}`} />
            <p>{code}</p>
          </picture>
        ))
      }
    </section>
  </main>
  <!-- <script is:inline>
    const $images = document.querySelectorAll(".image__container");

    console.log($images);

    $images.forEach(($img) => {
      $img.addEventListener("click", () => {
        $img.classList.toggle("fullscreen");
        $img.classList.toggle("image__container");
      });
    });
  </script> -->
</Layout>

<!-- <style is:global>
  body:has(.fullscreen) {
    overflow: hidden;

    .fullscreen {
      width: 100dvw;
      height: 100dvh;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
      background-color: hsla(0, 0%, 0%, 40%);
      display: grid;
      place-content: center;

      > img {
        max-width: 90dvw;
        width: 100%;
        max-height: 90dvh;
        height: 100%;
      }
    }
  }
</style> -->

<style>
  main {
    display: flex;
    justify-content: center;
    min-height: 100dvh;
    padding: 2rem;
  }

  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    max-width: 1280px;
    min-width: 512px;
    width: 100%;
    gap: 1rem;

    .image__container:nth-child(1),
    .image__container:nth-child(5),
    .image__container:nth-child(9) {
      grid-column: span 2;
    }
  }

  .image__container {
    width: 100%;
    max-width: 100%;
    min-width: 300px;
    height: fit-content;
    background-color: transparent;
    display: flex;
    overflow: hidden;
    height: 100%;
    position: relative;
    transition: 0.5s;
    border-radius: 0.5em;

    img {
      filter: grayscale(100%);
      max-width: 100%;
      transition: 0.5s;
    }

    p {
      position: absolute;
      top: 0px;
      left: 0px;
      padding: 4px 8px;
      font-size: 1.2em;
      color: white;
      font-weight: 600;
      background-color: hsl(0, 0%, 0%, 50%);
    }

    &:hover {
      box-shadow: 0px 0px 20px black;
      rotate: 0.5deg;

      img {
        filter: grayscale(0%);
        scale: 1.05;
      }
    }
  }
</style>
